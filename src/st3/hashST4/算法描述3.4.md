# 3.4 散列表
用算术操作将键转化为数组的索引来访问数组中的键值对。
## 1、 散列函数
散列函数能够将键转化为数组范围内的索引。要求：1。应易于计算并均匀分布所有的键；2。每种类型的键都需要一个与之对应的散列函数。
- ### 1）数值散列常用方法--*除留余数法*
  - #### 定义：选择大小为素数M的数组，对于任意正整数k,计算k除以M的余数，能够有效地将键散布在0到M-1的范围内。
  - #### 如果M不是素数，我们可能无法利用键中包含的所有信息，这可能导致我们无法均匀地散列散列值。
  - #### 如果键是0~1间的实数，可以乘以M再四舍五入得到散列值。但*此方法有缺陷*:只有高位对散列值有影响。*修正方法*：将键表示为二进制数然后再使用除留余数法。
- ### 2）字符串散列方法--*Horner方法*
用N次乘法、加法和取余来计算一个字符串的散列值
```Java
int hash = 0;
for (int i = 0; i < s.length(); i++)
    hash = (R * hash + s.charAt(i)) % M;
```
R大于任何字符的值，这种计算相当于将字符串当作一个N位的R进制值，将它除以M并取余。
- ### 3）组合键散列方法--类似于字符串方法
`int hash = (((day * R + month) % M) * R + year) % M;`
- ### 4）Java 的约定
Java令所有数据类型都继承了一个能够返回一个32位整数的hashCode()方法。每种数据类型的hashCode()方法都必须和equals()方法一致。即a.equals(b) == true 则a.hashcode() == b.hashcode() 反之则不一定。因此自定义数据类型定义散列函数，必须同时重写hashCode()和equals()
- ### 5)将hashCode()的返回值转化为一个数组索引
将32位整数符号位屏蔽，然后用除留余数法计算散列值。
- ### 6）软缓存
如果散列值计算耗时，可以装饰其存在一个私有变量里。
为一个数据类型实现一个优秀的散列方法需满足三个条件：
  - #### 一致性--造价的键必然产生相等的散列值；
  - #### 高效性--计算简便；
  - #### 均匀性--均匀地散列所有的键。
---
> 假设J（均匀散列假设）：我们使用的散列函数能够均匀并独立地将所有的键散布于0到M-1之间。
---
## 2、基于拉链法的散列表
